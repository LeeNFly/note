<!DOCTYPE html>
<html>

<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style>
    * {
        padding: 0;
        margin: 0;
    }

    .wrap {
        width: 300px;
        margin: 100px auto 0;
    }

    table {
        border-collapse: collapse;
        border-spacing: 0;
        border: 1px solid #c0c0c0;
        width: 300px;
    }

    th,
    td {
        border: 1px solid #d0d0d0;
        color: #404060;
        padding: 10px;
    }

    th {
        background-color: #09c;
        font: bold 16px "微软雅黑";
        color: #fff;
    }

    td {
        font: 14px "微软雅黑";
    }

    tbody tr {
        background-color: #f0f0f0;
        text-align: center;
    }

    tbody tr:hover {
        cursor: pointer;
        background-color: #fafafa;
    }
    </style>
</head>

<body>
    <div class="wrap">
        <table>
            <thead>
                <tr>
                    <th>
                        <input type="checkbox" id="j_cbAll" />
                    </th>
                    <th>菜名</th>
                    <th>饭店</th>
                </tr>
            </thead>
            <tbody id="j_tb">
                <tr>
                    <td>
                        <input type="checkbox" />
                    </td>
                    <td>红烧肉</td>
                    <td>田老师</td>
                </tr>
                <tr>
                    <td>
                        <input type="checkbox" />
                    </td>
                    <td>西红柿鸡蛋</td>
                    <td>田老师</td>
                </tr>
                <tr>
                    <td>
                        <input type="checkbox" />
                    </td>
                    <td>红烧狮子头</td>
                    <td>田老师</td>
                </tr>
                <tr>
                    <td>
                        <input type="checkbox" />
                    </td>
                    <td>日式肥牛</td>
                    <td>田老师</td>
                </tr>
            </tbody>
        </table>
    </div>
    <script src="jquery-1.12.4.js"></script>
    <script>
    $(function() {
        // 分析：
        // 1. 给上面的全选框注册click，获取全选框的选中状态，让下面四个多选框同步全选框的选中状态
        // 2. 给下面4个的多选框注册click，去获取到被选中的多选框的个数，判断选中的个数和4比较，如果相等，全选框被选中，如果不相等，全选框就不会被选中

        // 全选框决定下面的多选框
        $("#j_cbAll").click(function(){
            var result = $(this).prop("checked");
            // console.log(result);

            // 让下面的多选框同步上面的(checked)
            $("#j_tb input").prop("checked", result);
        })

        // 下面的控制全选框
        $("#j_tb input").click(function(){
            // :checked 过滤选择器, 获取被选中的表单元素
            // console.log($("#j_tb input:checked").length);

            // 被选中的表单元素的个数
            var cLen = $("#j_tb input:checked").length;
            // 所有下面的多选框的个数
            var aLen = $("#j_tb input").length;
            // console.log(aLen);

            /*if(cLen === aLen){
                // 相等，
                $("#j_cbAll").prop("checked", true);
            }else{
                // 不相等
                $("#j_cbAll").prop("checked", false);
            }*/

            // 三元的
            // cLen === aLen ? $("#j_cbAll").prop("checked", true) : $("#j_cbAll").prop("checked", false)

            // 简洁，优化
            $("#j_cbAll").prop("checked", cLen === aLen);
        })


        // 小结：
        // :checked  过滤选择器, 获取被选中的表单元素
        // prop(),   获取设置属性（表单元素）
    });
    </script>
</body>

</html>
