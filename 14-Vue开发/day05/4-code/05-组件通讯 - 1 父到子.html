<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  <!-- 父组件的模板 -->
  <div id="app">
    <!-- 子组件的模板 -->
    <hello ppp="18" gender="male" :parentmsg="msg"></hello>
  </div>

  <script src="./vue.js"></script>
  <script>
    // 1 父到子
    // 父组件：vm实例
    // 子组件：hello组件

    // 1 在使用位置的子组件标签上添加一个标签属性（ppp）, 属性名任意, 后续接收时要一一对应接收, 标签的属性值就是将来要传递给子组件的数据, 可以传递任意类型数据
    // 2 在components中的对应子组件中对象中添加props属性, 通过 props 属性，来接受这个数据,
    //    props是一个数组, 数组中每个元素是一个字符串, 一一对应接收1. 中子组件标签上同名的标签属性对应的标签属性值, 可以接收任意类型的父组件传递给子组件的值
    //    props数组中, 每个元素虽然是字符串, 但是要与1. 中定义的标签属性名一一对应, 这样才能一一对应接收传递过来的标签属性值.
    //    这样, 在子组件中就接收到了父组件中传递的数据了, 就可以在子组件中使用父组件传递过来的数据了
    // 3 在子组件的模板视图template中就可以使用接受到的 ppp 数据了, 使用方式与data相同
    //    使用方式: 在子组件中, 会自动把父组件传递过来的数据拷贝一份放到子组件的vue实例中, 属性名为props中对应字段名(非字符串), 属性值为对应传递过来的值,
    //    通过vue实例.属性名 就能直接访问到 对应传递过来的数据了, 在this指向vue实例的函数中, 可以直接通过this.属性名来获得父组件传递过来的数据了
    //    在组件视图模板template中, 在插值表达式, 或指令中, 可以直接通过props中对应的字段名(非字符串), 来获取和使用对应的父组件中传递过来的数据
    //    注意: 1. 父组件传递数据给子组件, 传递的是值本身, 而不是将变量传递, 传递前后没有影响
    //          2. 在子组件中是不能修改(不能赋值)父组件中传递过来的数据的, 即是只读的, 只能获取和使用
    //              特殊: 若父组件传递给自组件的是一个引用地址(比如对象), 则在子组件中可以改变引用地址里的数据, 并且由于是同一个引用地址, 父组件中的对应引用地址里的数据也会发生改变(即使引用地址没有发生改变), 也会重新渲染页面并将改变后的数据自动传递给子组件, 会触发父子组件的页面视图重新渲染
    //                    因为传递的是引用地址, 而改变引用地址里的数据并不会改变引用地址本身, 所以也就没有改变父组件中传递过来的引用地址, 所以这样操作是被vue中所允许的
    //          3. 可以在子组件标签上可以将标签属性转化成指令(通过v-bind), 传递指令解析后得到的最终属性值给子组件, 在子组件中接收时, 直接使用未转化成指令的标签属性名接收即可
    //          4. 单项数据流: 父组件中引入子组件并将数据传递给子组件, 若父组件中在视图渲染过程中原来传递给子组件的数据发生改变了, (若是引用数据类型的, 即使引用地址不发生改变, 只要引用地址里的数据发生改变, 就会重新传递改变后的数据给子组件, 与引用地址是否改变无关)
    //             则父组件会自动将更新后的数据传递给子组件, 子组件会自动根据改变后的数据, 自动重新渲染更新dom树 并自动更新页面, 自动渲染
    const vm = new Vue({
      el: '#app',
      data: {
        msg: '这是 Vue 实例提供的数据'
      },

      components: {
        hello: {
          template: `
            <div >这是 Hello 子组件 -- {{ ppp }} | {{ gender }} | {{ parentmsg }}</div>
          `,

          // 通过 props 属性，来指定该组件接受的数据
          // props 的使用方式与 data 相同
          props: ['ppp', 'gender', 'parentmsg'],

          }
        }
      }
    })
  </script>
</body>

</html>
