<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>


  <button id="btn">发送请求</button>
  <!-- ajax基本介绍
    1. 什么是异步和同步?
      1) 异步, 执行完代码后, 直接往下执行代码, 不会阻塞代码
      2) 同步, 会阻塞代码, 等到该条代码执行结束后, 才会继续往下执行代码
    2. 什么是ajax?
      1) ajax是用来发送一个基于http协议的请求, 前端通过 js 向 后台 服务器 发送http请求.
      2) 可以是异步的, 也可以是同步的, 默认是异步的
      3) ajax不是一门新的语言, 是js里的技术, 是js, 需要写在js运行环境里
      4) 用来请求、处理数据, 不行用于页面跳转, 也不会进行页面跳转, 页面也不会刷新和跳转, 不会改变地址栏
      5) 可以达到无刷新更新页面, 实际上是在拿到数据后, 手动对页面上的数据相关操作, 来达到更新数据的目的
      6) 后台可以处理ajax发起的请求
      7) ajax获取到的数据是  ★★★  响应体中的全部内容, 支持以多种格式进行获取
      8) ★ 浏览器不会对ajax请求的响应体的内容进行解析和执行, 标签也不会解析, 响应体内是什么, ajax请求最后得到的就是什么数据
      9) ajax可以实现前后端分离, 后端专门准备数据, 处理数据, 前端负责通过ajax从后端获取数据并且将数据渲染到页面上
      10) ajax可以实现前后端交互, 后端对前端发起的请求对数据进行处理
      11) ajax请求可以传递参数, 后台可以接收参数, 并进行处理, 最后返回数据到响应体, 前端ajax可以获取响应体中的所有数据
      注意: ajax请求不能用作页面跳转, 就算后台处理时进行页面跳转, 也只是把跳转的页面中的所有代码输出到响应体中, 返回给ajax,
           而浏览器不会解析和执行 ajax请求的响应体的内容, 所以不会进行页面跳转, 也不会渲染页面, 最后得到的只是一个页面字符串

    ps:
      1. js中2大异步功能: 定时器, ajax, 异步操作都不会阻塞栈中代码的执行
      2. 在php中, 通过服务器请求php文件, 服务器会处理请求, 即 会对php文件从上到下进行解析和执行
        1) 对于php标签内的内容, 会进行解析和执行,
        2) 对于php标签外的任何内容, 包括html,css,js等, 会原样输出到响应体中.
        3) 对于php标签内的内容, 只有通过echo, print_r, var_dump 才能(在对应位置)输出到响应体中
         解析完成后, 服务器会通过response响应请求回浏览器
         ps: 浏览器不会对ajax请求的响应体的内容进行解析, 标签也不会解析
         ps: 对于请求服务器的静态文件, 如html, js, css文件, 则会原文输出到响应体中
  -->
  <script>
    // 需求: 点击按钮, 发送一个请求, 这边不用 form 表单提交了, 表单提交会进行请求以及页面跳转
    //       使用 ajax 来进行发送请求
    //       借助一个 XMLHttpRequest 对象(浏览器内建对象), 可以发送 ajax 请求

    // 创建 xhr 对象
    // var xhr = new XMLHttpRequest();
    // 发送请求, 基于 http 协议, 请求包含: 请求行, 请求头, 请求体

    var btn = document.getElementById("btn");

    btn.onclick = function() {
      // 发送一个 get 请求
      // 1. 创建 xhr 对象
      var xhr = new XMLHttpRequest();

      // 2. 发送请求, 遵循 http 协议
      // 2.1 请求行 (请求方式, 请求地址)
      // xhr.open( type, url, 是否异步, 默认true, 异步 );
      // url支持相对路径, 绝对路径
      xhr.open( "get", "02-get.php", true );

      // 2.2 请求头
      // 注意: get 不需要设置请求头, 按浏览器默认的就行了
      //      因为 get 请求没有请求体, 不需要在请求头中设置请求体的编码方式

      // 2.3 请求体
      // get 请求没有请求体
      // xhr.send( 请求体 )
      xhr.send( null );
    }

  </script>



</body>
</html>
